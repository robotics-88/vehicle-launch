<launch>
    <arg name="device_id" default="0"/>
    <arg name="camera_name" default="mapir_rgn"/>
    <arg name="camera_info_yaml" default="$(find vehicle_launch)/params/$(arg camera_name)_info.yaml"/>
    <arg name="image_width" default="640"/>
    <arg name="image_height" default="480"/>
    <arg name="fps" default="15"/>

    <node pkg="cv_camera" type="cv_camera_node" name="$(arg camera_name)">
        <param name="rate" value="$(arg fps)"/>
        <param name="device_id" value="$(arg device_id)"/>
        <param name="frame_id" value="$(arg camera_name)"/>
        <param name="camera_info_url" value="file://$(arg camera_info_yaml)"/>
        <param name="pixel_format" value="mjpeg"/>
        <param name="image_width" value="$(arg image_width)"/>
        <param name="image_height" value="$(arg image_height)"/>
    </node>

    <group ns="$(arg camera_name)">
        <node pkg="image_proc" type="image_proc" name="image_proc"/>
    </group>

    <node name="mapir_static_tf" pkg="tf" type="static_transform_publisher" args="0.127 0.01905 0 0 0 0 base_link mapir_cam 100"/>
    <node name="mapir_optical_static_tf" pkg="tf" type="static_transform_publisher" args="0 0 0 -1.57079633 0 -1.57079633 mapir_cam mapir_rgn 100"/>
    
</launch>