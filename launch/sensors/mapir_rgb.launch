<launch>
    <arg name="camera_name" default="mapir_rgb"/>

    <group>
        <push-ros-namespace namespace="$(var camera_name)"/>

        <arg name="camera_info_yaml" default="$(find-pkg-share vehicle_launch)/config/$(var camera_name)_info.yaml"/>
        <arg name="fps" default="30"/>
        <arg name="device" default="/dev/mapir"/>
        <arg name="width" default="1280"/>
        <arg name="height" default="720"/>

        <node pkg="opencv_cam" exec="opencv_cam_main" output="screen" respawn="true">
            <param name="camera_info_path"  value="$(var camera_info_yaml)"/>
            <param name="fps"  value="$(var fps)"/>
            <param name="device"  value="$(var device)"/>
            <param name="width"  value="$(var width)"/>
            <param name="height"  value="$(var height)"/>
            <param name="camera_frame_id"  value="$(var camera_name)"/>
        </node>
    </group>
    
</launch>