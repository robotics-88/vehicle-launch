<launch>
    <!-- <arg name="device_id" default="0"/> -->
    <arg name="device_path" default="/dev/mapir"/>
    <arg name="camera_name" default="mapir_rgn"/>
    <arg name="camera_info_yaml" default="$(find-pkg-share vehicle_launch)/config/$(var camera_name)_info.yaml"/>
    <arg name="image_width" default="640"/>
    <arg name="image_height" default="480"/>
    <arg name="fps" default="2.0"/>

    <group>

        <!-- <node pkg="image_proc" exec="image_proc">
            <remap from="image" to="image_raw"/>
        </node> -->
        <include file="$(find-pkg-share image_proc)/launch/image_proc.launch.py">
            <arg name="namespace" value="$(var camera_name)"/>
        </include>

        <push-ros-namespace namespace="$(var camera_name)"/>
        <node pkg="cv_camera" exec="cv_camera_node" name="$(var camera_name)" output="screen">
            <param name="rate" value="$(var fps)"/>
            <!-- <param name="device_id" value="$(var device_id)"/> -->
            <param name="device_path" value="$(var device_path)"/>
            <param name="frame_id" value="$(var camera_name)"/>
            <param name="camera_info_url" value="file://$(var camera_info_yaml)"/>
            <param name="pixel_format" value="mjpeg"/>
            <param name="image_width" value="$(var image_width)"/>
            <param name="image_height" value="$(var image_height)"/>
        </node>
    </group>
    
</launch>